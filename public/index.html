<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Capital Choice Office Furniture Installation Bidding Platform">
    <meta name="keywords" content="office furniture, installation, bidding, contractors">
    <meta name="author" content="Capital Choice">
    
    <title>Capital Choice - Bidding Platform</title>
    
    <!-- Favicon using the SVG logo -->
    <link rel="icon" type="image/svg+xml" href="https://ccofficefurniture.com/wp-content/uploads/2025/02/Capital-Choice-20th-logo-Final-with-Tag-Blue.svg">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/responsive.css">
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="spinner">
            <div class="spinner-border"></div>
            <p>Loading...</p>
        </div>
    </div>
    
    <!-- Main Navigation -->
    <nav id="mainNav" class="navbar" style="display: none;">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="https://ccofficefurniture.com/wp-content/uploads/2025/02/Capital-Choice-20th-logo-Final-with-Tag-Blue.svg" 
                     alt="Capital Choice" 
                     class="nav-logo">
                <span class="nav-title">Capital Choice Project Bidding</span>
            </div>
            
            <!-- Simplified Nav Actions - Only User Info and Logout -->
            <div class="nav-actions">
                <div class="nav-user-simple">
                    <span class="user-name-display" id="userNameDisplay">User Name</span>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar" style="display: none;">
        <div class="sidebar-inner">
            <!-- Sidebar Navigation -->
            <nav class="sidebar-nav">
                <ul class="sidebar-menu">
                    <!-- Dashboard -->
                    <li class="menu-header">Main</li>
                    <li class="menu-item">
                        <a href="#/dashboard" class="menu-link" data-route="dashboard">
                            <i class="fas fa-dashboard"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    
                    <!-- Projects Section -->
                    <li class="menu-header">Projects</li>
                    <li class="menu-item">
                        <a href="#/projects" class="menu-link" data-route="projects">
                            <i class="fas fa-project-diagram"></i>
                            <span>All Projects</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#/projects/active" class="menu-link" data-route="projects-active">
                            <i class="fas fa-tasks"></i>
                            <span>Active Projects</span>
                        </a>
                    </li>
                    
                    <!-- Bidding Section -->
                    <li class="menu-header hide-from-pm">Bidding</li>
                    <li class="menu-item hide-from-pm">
                        <a href="#/bids" class="menu-link" data-route="bids">
                            <i class="fas fa-gavel"></i>
                            <span>My Bids</span>
                        </a>
                    </li>
                    
                    <!-- Admin Section -->
                    <li class="menu-header admin-only">Administration</li>
                    <li class="menu-item admin-only">
                        <a href="#/users" class="menu-link" data-route="users">
                            <i class="fas fa-users"></i>
                            <span>Users</span>
                        </a>
                    </li>
                    
                    <!-- User Section -->
                    <li class="menu-header">Account</li>
                    <li class="menu-item">
                        <a href="#/profile" class="menu-link" data-route="profile">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
            </div>
        </div>
    </aside>
    
    <!-- Main Content Area -->
    <main id="mainContent" class="main-content" style="display: none;">
        <div class="content-wrapper">
            <!-- Dynamic Content (Page Header and Breadcrumb Removed) -->
            <div id="pageContent" class="page-content">
                <!-- Content will be dynamically loaded here -->
            </div>
        </div>
    </main>
    
    <!-- Login Page (Initially visible, hidden after login) -->
    <div id="loginPage" class="auth-page">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <img src="https://ccofficefurniture.com/wp-content/uploads/2025/02/Capital-Choice-20th-logo-Final-with-Tag-Blue.svg" 
                         alt="Capital Choice" 
                         class="auth-logo">
                    <h2>Welcome Back</h2>
                    <p>Sign in to your account</p>
                </div>
                
                <form id="loginForm" class="auth-form">
                    <div id="loginErrorContainer" style="display: none;">
                        <div class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-circle"></i>
                            <span id="loginErrorMessage"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="loginUsername">Username</label>
                        <input type="text" id="loginUsername" name="username" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <div class="password-input">
                            <input type="password" id="loginPassword" name="password" class="form-control" required>
                            <button type="button" class="btn-icon toggle-password" data-target="loginPassword">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <small id="passwordError" class="text-danger" style="display: none; margin-top: 5px;"></small>
                    </div>
                    
                    <div class="form-group form-check">
                        <input type="checkbox" id="rememberMe" name="remember" class="form-check-input">
                        <label for="rememberMe" class="form-check-label">Remember me</label>
                    </div>
                    
                    <div class="form-group text-right">
                        <a href="/forgot-password.html" class="text-muted">
                            Forgot your password?
                        </a>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">Sign In</button>
                
                    <div class="auth-divider" style="margin: 20px 0; text-align: center; position: relative;">
                        <span style="background: white; padding: 0 10px; color: #6c757d; position: relative; z-index: 1;">or</span>
                        <div style="position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: #dee2e6; z-index: 0;"></div>
                    </div>

                    <a href="/register-request.html" class="btn btn-outline-primary btn-block">
                        <i class="fas fa-user-plus"></i> Create Installation Company Account
                    </a>
                </form>
                <div id="loginError" class="alert alert-danger" style="display: none;"></div>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Modal Container -->
    <div id="modalContainer">
        <!-- Modals will be dynamically inserted here -->
    </div>
    
    <!-- Global Sidebar Toggle Button -->
    <button id="sidebarToggle" class="sidebar-toggle" style="display: none;">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Scripts -->
    <!-- Core -->
    <script src="/js/config.js"></script>
    <script src="/js/state.js"></script>
    
    <!-- Utilities -->
    <script src="/js/utils/dom.js"></script>
    <script src="/js/utils/format.js"></script>
    <script src="/js/utils/validators.js"></script>
    <script src="/js/utils/fileUpload.js"></script>
    
    <!-- Services -->
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/router.js"></script>
    
    <!-- Templates -->
    <script src="/js/templates/projectTemplates.js"></script>
    <script src="/js/templates/bidTemplates.js"></script>
    <script src="/js/templates/userTemplates.js"></script>
    
    <!-- Components -->
    <script src="/js/components/dashboards.js"></script>
    <script src="/js/components/projects.js"></script>
    <script src="/js/components/bids.js"></script>
    <script src="/js/components/users.js"></script>
    <script src="/js/components/profile.js"></script>
    <script src="/js/components/notifications.js"></script>
    <script src="/js/components/triStateCheckbox.js"></script>
    
    <!-- Modals -->
    <script src="/js/modals/projectModals.js"></script>
    <script src="/js/modals/bidModals.js"></script>
    <script src="/js/modals/userModals.js"></script>
    <script src="/js/modals/ratingModal.js"></script>
    <script src="/js/modals/bidDetailModal.js"></script>
    
    <!-- Main Application -->
    <script src="/js/app.js"></script>
    
    <!-- Initialize Application -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the application
            App.init();
        });
    </script>
</body>
</html>